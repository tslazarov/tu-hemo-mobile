<Page navigatingTo="onNavigatingTo" 
  loaded="pageLoaded" 
  class="page"
  xmlns="http://schemas.nativescript.org/tns.xsd" 
  xmlns:nsDrawer="nativescript-ui-sidedrawer"
  xmlns:au="nativescript-ui-autocomplete" 
  xmlns:map="nativescript-mapbox">
    <ActionBar class="action-bar">
      <GridLayout columns="auto,*,auto" height="100%" width="100%">
        <Label col="0" text="&#xf0c9;" class="fa" tap="onOpenDrawerTap"></Label>
        <Label col="1" text="Search" class="action-bar-title" tap="onOpenDrawerTap"></Label>
      </GridLayout>
    </ActionBar>
    <nsDrawer:RadSideDrawer id="sideDrawer" drawerLocation="top" xmlns:nsDrawer="nativescript-ui-sidedrawer" loaded="onLoaded">
        <nsDrawer:RadSideDrawer.drawerTransition>
            <nsDrawer:SlideInOnTopTransition/>
        </nsDrawer:RadSideDrawer.drawerTransition>

        <nsDrawer:RadSideDrawer.drawerContent>
            <GridLayout rows="auto" class="sidedrawer sidedrawer-left">
                <StackLayout class="sidedrawer-header">
                  <au:RadAutoCompleteTextView hint="Search" id="autocomplete" items="{{ dataItems }}" suggestMode="Suggest" displayMode="Plain">
                      <au:RadAutoCompleteTextView.suggestionView>
                          <au:SuggestionView suggestionViewHeight="300">
                              <au:SuggestionView.suggestionItemTemplate>
                                  <StackLayout orientation="vertical" padding="10">
                                      <Label text="{{ text }}"></Label>
                                  </StackLayout>
                              </au:SuggestionView.suggestionItemTemplate>
                          </au:SuggestionView>
                      </au:RadAutoCompleteTextView.suggestionView>
                  </au:RadAutoCompleteTextView>
                </StackLayout>
            </GridLayout>
        </nsDrawer:RadSideDrawer.drawerContent>

        <nsDrawer:RadSideDrawer.mainContent>
        <GridLayout rows="auto,*">
            <SegmentedBar row="0" loaded="onSbLoaded" class="m-5" selectedIndex="{{ selectedBarIndex }}">
                <SegmentedBar.items>
                    <SegmentedBarItem title="Item 1" />
                    <SegmentedBarItem title="Item 2" />
                </SegmentedBar.items>
            </SegmentedBar>            
                <GridLayout row="1" rows="*" visibility="{{ visibility1 ? 'visible' : 'collapsed' }}" backgroundColor="white">
                    <map:MapboxView
                        accessToken="pk.eyJ1IjoidGxhemFyb3YiLCJhIjoiY2pqdm9sc3pjMHVrdTNycnI1ZXJkNzZkMSJ9.vET6BrN5mb3mfq9wvlRlYA"
                        mapStyle="streets"
                        latitude="52.3702160"
                        longitude="4.8951680"
                        zoomLevel="7"
                        showUserLocation="true">
                    </map:MapboxView>                
                </GridLayout>
                <GridLayout row="1" rows="*" visibility="{{ visibility2 ? 'visible' : 'collapsed' }}" backgroundColor="green">
                    <Label text="Index 2" class="m-15 h3 p-5 text-center" color="white"/>
                </GridLayout>
        </GridLayout>            
        </nsDrawer:RadSideDrawer.mainContent>
    </nsDrawer:RadSideDrawer> 
</Page>